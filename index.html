<!DOCTYPE html>
<html lang="en">
<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <link rel="stylesheet" href="css/jquery-ui.css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <style>
        body, html {
            height: 100%;
        }

        .d-flex {
            display: flex;
        }

        .m-auto {
            margin: auto;
        }

        .outer {
            height: 120px;
            width: 120px;
            border-radius: 50%;
            background: #123a7d;
            position: absolute;
            left: 50%;
            bottom: 40px;
        }

        .arrow, .arrowu {
            cursor: pointer;
            font-weight: bolder;
            color: white;
            white-space: nowrap;
            font-size: 4rem;
            position: absolute;
            right: 0;
            bottom: 30px;
            left: 20px;
            margin: auto;
            width: 50px;
            height: 50px;
            transform: translateY(-5px);
            -webkit-transition: all 800ms linear;
            -moz-transition: all 900ms linear;
            -ms-transition: all 900ms linear;
            -o-transition: all 900ms linear;
            transition: all 900ms linear;
        }

        /* this sets the position of the arrow when it's up, so it will move up or down by 14px when you add or remove this class */
        .lift {
            transform: translateY(5px);
        }

        .hitbox {
            display: -webkit-inline-box;
        }

        #arrow_location {
            z-index: 22;

        }
    </style>
</head>
<body>
<header>
    <div class="logo">
        <p><a href="#screen1">Danny Quick</a></p>
    </div>
</header>
<div class="container">
    <div class="row" id="screen1">
        <div class="box">
            <h1 class="text">Culture X <br>Technology</h1>
        </div>
    </div>
    <div class="row" id="screen2">
        <div class="box">
            <h1 class="text">Currently<br>CEO & Co-Founder<br>of
                <div class="hitbox"><a href="https://muze.tv/" target="_blank">
                    <span style="color:#423EF9">Muze</span>
                </a></div>
            </h1>
        </div>
    </div>
    <div class="row" id="screen3">
        <div class="box">
            <h1 class="text">Previously ran<br> Product for<br>
                <div class="hitbox"><a href="https://www.beyonce.com/" target="_blank">
                    <span style="color:#E684BF">Beyoncé</span></a>,<a href="https://fancy.com/" target="_blank"><span
                        style="color:#389DDF"> Fancy</span></a>,<br> and <a href="https://www.superphone.io/"
                                                                            target="_blank"><span style="color:#E0B850">SuperPhone</span></a>
                </div>
            </h1>
        </div>
    </div>
    <div class="row" id="screen4">
        <div class="box">
            <h1 class="text">Also tinker and<br>advise through<br>my studio<br>
                <div class="hitbox"><a href="https://interludelabs.com/" target="_blank">
                    <span style="color:#286BC3">Interlude Labs</span>
                </a></div>
            </h1>
        </div>
    </div>
    <div class="row" id="screen5">
        <div class="box">
            <h1 class="text">Heavy in the<br>
                <div class="hitbox"><a
                        href="https://photos.google.com/share/AF1QipN-J3KRCdleF7Fp2fj6fCxlnM1kMj-Y_YKDEdqCoUJsFAjiHqLLxuhxkZAdb7kmng?key=OS05ZVVQU3NvZDBNT1J5bjBxSTNGRFk0RzRaZ0ZB"
                        target="_blank"><span style="color:#FFA981">Travel</span></a>, <a
                        href="https://www.youtube.com/watch?v=TA04S4yOA_0" target="_blank"><span style="color:#84f210">Basketball</span></a>,
                </div>
                <br> and Taco game
            </h1>
        </div>
    </div>
    <div class="row" id="screen6">
        <div class="box">
            <h1 class="text">My inbox is<br><a href="mailto:yo@dannyquick.nyc?subject=Hey what’s up?"><span
                    style="color:#D46A77">always open</span></a></h1>
        </div>
    </div>
</div>
<div class="scroll-screen" id="scroll-screen-bottom">
    <a href=""></a><span class="arrow">&darr;</span>
</div>
<div class="scroll-screen" id="scroll-screen-top">
    <a href=""></a><span class="arrowu">&uarr;</span>
</div>
<!--  <div id="debug"></div> -->
<script>
    var arrowBounce = function() {
        var arrow = document.querySelector(".arrow");
        var arrowu = document.querySelector(".arrowu");
        toggleClass(arrow, "lift");
        toggleClass(arrowu, "lift");
    };

    const toggleClass = (el, className) => el.classList.toggle(className);

    // run the arrowBounce function every 800ms
    setInterval(arrowBounce, 450);
</script>
<script type="text/javascript">

    $(document).ready(function() {
        //startScroll();
        //const arro=document.getElementByClassName("arrow");
        /*const arro = $(".arrow");
        function handle(event){
            //console.log(event);//.preventDefault();
        }
        arro.addEventListener("click", handle);*/
        var state = "";
        var prevScreen = "";
        window.onscroll = function(event) {
            //startScroll(event);
        };
        elemHeight = $(".box").height();
        tolerance = elemHeight / 20;
        isAnimating = false;
        var lastScrollTop = 0;
        $("#scroll-screen-bottom a").bind("click", function() {
            //scrollFunction() ;
        });

        function scrollFunction() {
            console.log("dimen" + $(window).scrollTop());

            if (!isAnimating) {
                if ($(window).scrollTop() > lastScrollTop) {

                    console.log("scrolling down");
                    if (4 * elemHeight + tolerance < $(window).scrollTop() && $(window).scrollTop() < elemHeight * 5) {
                        $("#scroll-screen-bottom a").attr("href", "#screen2");
                        isAnimating = true;
                        $("html,body").animate({
                            scrollTop: $("#screen6").offset().top,
                        }, 800, function() {
                            $("#scroll-screen-bottom").hide();
                            $("#scroll-screen-top").show();
                            $(this).stop(true, false);
                            isAnimating = false;
                        });

                        return false;
                    } else if (3 * elemHeight + tolerance < $(window).scrollTop() && $(window).scrollTop() < elemHeight * 4) {

                        $("#scroll-screen-bottom a").attr("href", "#screen6");
                        isAnimating = true;

                        $("html,body").animate({
                            scrollTop: $("#screen5").offset().top,
                        }, 800, function() {
                            $(this).stop(true, false);
                            isAnimating = false;

                        });
                        return false;
                    } else if (2 * elemHeight + tolerance < $(window).scrollTop() && $(window).scrollTop() < elemHeight * 3) {
                        $("#scroll-screen-bottom a").attr("href", "#screen5");
                        isAnimating = true;
                        $("html,body").animate({
                            scrollTop: $("#screen4").offset().top,
                        }, 800, function() {
                            $(this).stop(true, false);
                            isAnimating = false;
                        });
                        return false;
                    } else if (elemHeight + tolerance < $(window).scrollTop() && $(window).scrollTop() < elemHeight * 2) {

                        $("#scroll-screen-bottom a").attr("href", "#screen4");
                        isAnimating = true;

                        $("html,body").animate({
                            scrollTop: $("#screen3").offset().top,
                        }, 800, function() {
                            $(this).stop(true, false);
                            isAnimating = false;
                        });
                        return false;
                    } else if (tolerance < $(window).scrollTop() && $(window).scrollTop() < elemHeight) {
                        isAnimating = true;

                        $("#scroll-screen-bottom a").attr("href", "#screen3");
                        $("html,body").animate({
                            scrollTop: $("#screen2").offset().top,
                        }, 800, function() {
                            $(this).stop(true, false);
                            isAnimating = false;
                            $("#scroll-screen-bottom").show();
                            $("#scroll-screen-top").hide();
                        });
                        return false;
                    }
                }
            }

            lastScrollTop = $(window).scrollTop();

            // This code is for handling the button flip
            if ($(window).scrollTop() + $(window).height() == $(document).height()) {
                $("#scroll-screen-bottom").hide();
                $("#scroll-screen-top").show();
            }

        }

        anim = false;
        endofPage = false;

        var lastScrollTop = 0,
            st,
            direction;

        function detectDirection() {
            st = window.pageYOffset;
            if (st > lastScrollTop) {
                direction = "down";
            } else {
                direction = "up";
            }
            lastScrollTop = st;
            return direction;
        }

        limit = $(".box").height();
        number = 0;
        screen = 2;

        $(".container").on("mousewheel DOMMouseScroll touchmove", function(e) {
            e.preventDefault();
            console.log("scrolling");
            // $( ".text" ).css("opacity", "0");
            if (e.originalEvent.detail > 0 || e.originalEvent.wheelDelta < 0) {
                state = "down";
                if (!anim) {
                    if (endofPage) {
                        anim = true;
                        $(".logo a").click();
                    } else {
                        console.log("starting anim");
                        anim = true;
                        // Incrementing here because the animation is run twice on html and body
                        screen++;
                        //alert("dowm"+screen);
                        var e0 = e.originalEvent;
                        var delta = e0.wheelDelta || -e0.detail;
                        startScroll(e);
                    }
                }
            } else {

                state = "up";

                /*if((this.hash == "#screen5") && (state == "up") && (prevScreen == 1))
                {
                    screen = 5;
                    prevScreen = 4;
                    this.hash = "#screen";
                }*/
                if (!anim) {
                    if (endofPage) {
                        anim = true;
                        $(".logo a").click();
                    } else {

                        anim = true;
                        if (screen >= 2)
                            screen -= 1;
                        else if (screen < 2)
                            screen = 1;
                        //alert(state+screen);
                        var e0 = e.originalEvent;
                        var delta = e0.wheelDelta || -e0.detail;
                        startScroll(e);
                    }
                }
            }
            //number++;
        });

        /*$("#scroll-screen-bottom a").on('click', function(event){
            console.log('click');
            if(!anim){
                if(endofPage){
                    $(".logo a").click();
                }
                else{
                    screen++;
                    anim = true;
                    startScroll(event);
                }
            }
        });*/
        log_flag = true;
        var startScroll = function(event) {

            event.preventDefault();
            console.log(screen);
            console.log(event);
            elem = $("#scroll-screen-bottom a")[0];
            if (elem.hash == "") {
                elem.hash = "screen2";
            }
            if (log_flag == true) {
                elem.hash = "screen2";
                log_flag = false;
            }
            //alert(elem.hash);
            if (state == "down")
                elem.hash = elem.hash;
            else
                elem.hash = "#screen" + prevScreen;
            if (elem.hash !== "") {
                var hash = elem.hash;
                console.log(hash);
                prevScreen = screen - 2;
                if (prevScreen < 1)
                    prevScreen = 1;
                time = 50;
                $("html,body").animate({
                    scrollTop: $(hash).offset().top,
                }, 1000, function() {

                    lastScrollTop = $("html,body").scrollTop();
                    //if(screen==7){ }
                    if (screen == 7) {
                        //alert(screen);
                        console.log("reached the end");
                        $("html,body").stop(true, true);
                        //$(elem).attr('href','#screen2');
                        //$("#scroll-screen-bottom").hide();
                        $("#scroll-screen-bottom").css("display", "none");
                        $("#scroll-screen-top").css("display", "block");
                        //$("#scroll-screen-top").show();
                        endofPage = true;
                        //screen=1;
                        time = 50;

                    } else {
                        endofPage = false;
                    }
                    //alert(screen);
                    setTimeout(function() {
                        $(".text").css("opacity", "1");
                        console.log("animation finished");
                        $("#scroll-screen-bottom a").attr("href", "#screen" + screen);
                        anim = false;
                    }, time);
                });
            }
        };

        $(".logo a").on("click", function(event) {
            //alert(screen);
            log_flag = true;
            screen = 2;
            console.log("end of page");
            $("#scroll-screen-top").hide();
            $("#scroll-screen-bottom").show();
            if (this.hash !== "") {
                event.preventDefault();
                var hash = this.hash;
                //alert(this.hash);
                $("html ,body").animate({
                    scrollTop: $(hash).offset().top,
                }, 800, function() {
                    setTimeout(function(args) {

                        endofPage = false;
                        //$("#scroll-screen-bottom a").attr('href','#screen2');
                        //$("#screen2").load()
                        //window.open("index.html");
                        $(".text").css("opacity", "1");
                        anim = false;
                    }, 500);
                });
            }
        });

        // $(".logo a").on('click', function(event) {

        // 	$('html,body').stop(true,true);

        // 	if (this.hash !== "") {

        // 		event.preventDefault();
        // 		$("#scroll-screen-top").hide();

        // 		var hash = this.hash;

        // 		$('html,body').animate({
        // 			scrollTop: $(hash).offset().top
        // 		}, 800, function(){
        // 			$("#screen3,#screen4,#screen5,#screen6").hide();
        // 			/*$("#scroll-screen-bottom a").attr('href','#screen2');
        // 			screen = 2;*/
        // 			$("#scroll-screen-bottom").show();
        // 			anim = false;
        // 		});

        // 	}
        // });
    });
</script>
</body>
</html>
